(window.webpackJsonp=window.webpackJsonp||[]).push([["Chat"],{"+0a+":function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-footer{width:100%;margin-bottom:0;position:relative}.sber-care-chat-footer__block-footer{display:flex}.sber-care-chat-footer textarea:disabled{background:#fff}.sber-care-chat-footer__block-attach{width:19px;margin:25px 0 25px 8px;opacity:.5}.sber-care-chat-footer__block-attach:hover{cursor:pointer;opacity:1}.sber-care-chat-footer__textarea{margin:10px 8px;flex:1 1}.sber-care-chat-footer__textarea textarea{margin:0}.sber-care-chat-footer__border{width:100%;border-top:1px solid #eaeaf2}.sber-care-chat-footer__reply{padding:8px 36px 8px 8px;background-color:#fff;width:100%;position:relative}.sber-care-chat-footer__reply .sber-care-chat-footer__text{padding-left:14px;line-height:20px;color:#000014;font-size:14px;border-left:2px solid #0b8940}.sber-care-chat-footer__reply .sber-care-chat-footer__close{position:absolute;top:50%;margin-top:-7px;right:12px;border-left:0;padding:0}.sber-care-chat-footer__reply .sber-care-chat-footer__close:hover{cursor:pointer}.sber-care-chat-theme__dark .sber-care-chat-footer{background-color:#191b18;border-top:1px solid #383838}.sber-care-chat-theme__dark .sber-care-chat-textarea{border-color:#2e2e2e}.sber-care-chat-theme__dark .sber-care-chat-footer__border{border-top:1px solid #383838}",""])},"2LPb":function(e,t,r){var a=r("uqpq");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},"2um2":function(e,t,r){"use strict";r.r(t),r.d(t,"Suggestions",(function(){return w}));var a=r("q1tI"),o=r.n(a),n=r("17x9"),c=r.n(n),s=r("nW7h"),i=r.n(s),l=r("/MKj"),p=r("wMS7"),u=r.n(p),f=r("Ms6E"),b=r("uW9o"),h=r("dT2Z");r("B8Px");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=i()("suggestions"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(c,e);var t,r,a,n=g(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=n.call(this,e)).send=function(e,r){var a=t.props,o=a.conversationName;a.isHidden||(t.props.dispatch(h.hideSuggestions(o)),r?t.props.dispatch(h.setClientMessage(e,r,o)):t.props.dispatch(h.sendMessageText(e)),b.sendYaMetrika({"Клик по ярлыку":{"Саджесты":"Клик на кнопку"}}))},t}return t=c,(r=[{key:"render",value:function(){var e=this,t=this.props.suggestions;return o.a.createElement("div",{className:v.mix(this.props.className)()},f.uniqBy(t,"text").sort((function(e,t){return e.order_id>t.order_id?1:-1})).map((function(t){return o.a.createElement("button",{className:v("item")(),type:"button",key:t.order_id,onClick:function(){return e.send(t.text,t.target)},value:t.text,dangerouslySetInnerHTML:{__html:u.a.sanitize(t.text)}})})))}}])&&m(t.prototype,r),a&&m(t,a),c}(a.Component);w.propTypes={conversationName:c.a.string},w.defaultProps={conversationName:"Chat"};t.default=Object(l.connect)((function(e){return{config:e.config}}))(w)},"3NSj":function(e,t,r){e.exports=r.p+"images/08aec0d2d625746b616b6203b974b9fd.png"},"4uwN":function(e,t,r){e.exports=r.p+"images/21a5c56e414da2fc3a7f9042afa6b3e8.png"},"6qyB":function(e,t,r){e.exports=r.p+"images/cd99bd6dd4f8f2832a53cb1a4d52fbc2.png"},"7p0f":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var a=r("q1tI"),o=r.n(a),n=r("17x9"),c=r.n(n),s=r("nW7h"),i=r.n(s),l=(r("haPW"),r("iDLh"));function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=i()("upload"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,r,a,n=h(c);function c(){return u(this,c),n.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.fileAttached,r=e.fileError,a=e.fileUploadFormats,n=e.handleFileUpload,c=e.preventDefaults,s=e.handleDrop,i=e.isMobile;return o.a.createElement("form",{className:_("drop-form",{dropFormError:!!t,isMobile:i})(),onDragEnter:c,onDragOver:c,onDragLeave:c,onDrop:s},o.a.createElement("input",{type:"file",id:"chatFileElem",className:_("input")(),accept:".".concat(a.replace(" ","").split(",").join(",.")),onChange:n}),i?o.a.createElement("label",{className:_("label",{isMobile:i})(),htmlFor:"chatFileElem"},o.a.createElement(l.Icon,{sign:"attach",color:"#878b90",size:"19",className:_("attach")()})):o.a.createElement("label",{className:_("label")(),htmlFor:"chatFileElem"},o.a.createElement("div",{className:_("text")()},o.a.createElement("p",{className:_("header")()},r?"Выберите другой файл":"Выберите файл"),!r&&o.a.createElement("p",{className:_("drop-text")()},"или перенесите сюда")),o.a.createElement("div",{className:_("icon")()},o.a.createElement("svg",{width:"32px",height:"28px",viewBox:"0 0 32 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"file_upload",transform:"translate(0.000000, -0.000000)"},o.a.createElement("path",{d:"M25.9876797,7.71416833 C25.6459959,5.68377823 24.6406571,3.83080082 23.1030801,2.42464065 C21.3946612,0.86078029 19.1737166,0 16.8607803,0 C15.0735113,0 13.3322382,0.51252566 11.8406571,1.47843942 C10.598768,2.28008213 9.5671458,3.36427104 8.8377823,4.63901437 C8.5223819,4.57987679 8.1938398,4.54702258 7.86529774,4.54702258 C5.07268994,4.54702258 2.79917864,6.82053383 2.79917864,9.61314173 C2.79917864,9.97453803 2.8386037,10.3227926 2.90431211,10.6644764 C1.0973306,11.9786447 -3.55271368e-15,14.0944558 -3.55271368e-15,16.3482546 C-3.55271368e-15,18.1683778 0.67679671,19.9359343 1.91211499,21.3355236 C3.18028747,22.7679671 4.85585216,23.6156057 6.64312115,23.7141683 C6.66283368,23.7141683 6.67597536,23.7141683 6.69568789,23.7141683 L10.3466119,23.7141683 C10.8394251,23.7141683 11.2336756,23.3199178 11.2336756,22.8271047 C11.2336756,22.3342915 10.8394251,21.940041 10.3466119,21.940041 L6.72197125,21.940041 C4.03449692,21.77577 1.77412731,19.2197125 1.77412731,16.3416837 C1.77412731,14.4821355 2.77289528,12.7474332 4.38275154,11.8078028 C4.75728953,11.5909651 4.91498973,11.137577 4.77043121,10.7301848 C4.63901437,10.3753593 4.57330595,10.0008213 4.57330595,9.60000003 C4.57330595,7.78644763 6.05174538,6.30800823 7.86529774,6.30800823 C8.2529774,6.30800823 8.6340862,6.37371663 8.9889117,6.50513343 C9.4225873,6.66283363 9.9022587,6.46570843 10.099384,6.05174533 C11.3281314,3.44312115 13.9827515,1.76098562 16.8673511,1.76098562 C20.7441478,1.76098562 23.9441478,4.66529774 24.312115,8.51581113 C24.35154,8.91663243 24.6537988,9.23860373 25.0480493,9.30431213 C27.9720739,9.80369613 30.1798768,12.5043121 30.1798768,15.5860369 C30.1798768,18.8517453 27.6106776,21.690349 24.4435318,21.9334702 L21.6008214,21.9334702 C21.1080082,21.9334702 20.7137577,22.3277207 20.7137577,22.8205338 C20.7137577,23.313347 21.1080082,23.7075975 21.6008214,23.7075975 L24.476386,23.7075975 C24.4960986,23.7075975 24.5158111,23.7075975 24.5420945,23.7075975 C26.5462012,23.563039 28.4188912,22.6431211 29.8119097,21.1055441 C31.1983573,19.5811088 31.9540041,17.6229979 31.9540041,15.5860369 C31.9474333,11.8997946 29.4308008,8.62094453 25.9876797,7.71416833 Z",id:"cloud",fill:"#626B75"}),o.a.createElement("polygon",{id:"arrow",fill:"#08A652",fillRule:"nonzero",transform:"translate(16.000000, 20.000000) rotate(-90.000000) translate(-16.000000, -20.000000) ",points:"17.59 23.59 19 25 24 20 19 15 17.59 16.41 20.17 19 8 19 8 21 20.17 21"}))))))}}])&&f(t.prototype,r),a&&f(t,a),c}(a.Component);g.propTypes={className:c.a.string,fileAttached:c.a.object,fileError:c.a.string,fileUploadFormats:c.a.string,handleFileUpload:c.a.func,preventDefaults:c.a.func,handleDrop:c.a.func},g.defaultProps={className:"",fileAttached:null,fileError:"",fileUploadFormats:"",handleFileUpload:function(){},preventDefaults:function(){},handleDrop:function(){}}},"8ABt":function(e,t,r){"use strict";r.r(t),r.d(t,"Footer",(function(){return y}));var a=r("q1tI"),o=r.n(a),n=r("nW7h"),c=r.n(n),s=r("/MKj"),i=r("iDLh"),l=r("PL0i"),p=r("dT2Z"),u=r("Ms6E");r("a8CQ");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=c()("footer"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,r,a,n=d(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=n.call(this,e)).handleOnChange=function(e){u.saveDraft(e),t.props.dispatch(p.changeMessageText(e))},t.handleOnClick=function(){t.props.dispatch(p.showAttachments())},t.onSend=function(e){var r=e,a=t.props,o=a.replyMessage,n=a.suggestions,c=o&&(o.message||o.title);if(u.deleteDraft(),c){r="".concat("```").concat(o.title,"\n").concat(o.message).concat("```","\n").concat(e),t.props.dispatch(p.deleteReplyMessage())}t.props.dispatch(p.sendMessageText(r)),t.props.dispatch(p.changeMessageText("")),n.length>0&&e&&t.props.dispatch(p.hideSuggestions("Chat"))},t.onCloseReply=function(){t.props.dispatch(p.deleteReplyMessage())},t.textfield=o.a.createRef(),t}return t=c,(r=[{key:"componentDidMount",value:function(){var e=u.getDraft();e&&this.props.dispatch(p.changeMessageText(e)),u.isMobileDevice()||!this.textfield.current||this.props.chatInContent||this.textfield.current.focusTextInput()}},{key:"componentDidUpdate",value:function(e){u.isMobileDevice()||e.suggestionsIsShow===this.props.suggestionsIsShow||!this.textfield.current||this.props.chatInContent||this.textfield.current.focusTextInput(),e.replyMessage.message!==this.props.replyMessage.message&&this.props.scrollMessage()}},{key:"render",value:function(){var e=this.props,t=e.replyMessage,r=e.theme,a=e.dictionary,n=t&&(t.message||t.title);return o.a.createElement("div",{className:g.mix(this.props.className)()},n&&o.a.createElement("div",{className:g("reply")()},t.title&&o.a.createElement("div",{className:g("text")()},t.title),t.message&&o.a.createElement("div",{className:g("text")()},t.message),o.a.createElement("div",{className:g("close")(),onClick:this.onCloseReply},o.a.createElement(i.Icon,{sign:"close",color:"#2d2d30",size:"10"}))),o.a.createElement("div",{className:g("border")()}),o.a.createElement("div",{className:g("block-footer")()},this.props.uploadFile&&this.props.userToken&&(u.isMobileDevice()?o.a.createElement(l.default,{conversationName:"Chat"}):o.a.createElement("div",{className:g("block-attach")(),onClick:this.handleOnClick},o.a.createElement(i.Icon,{sign:"attach",color:"#878b90",size:"19",className:g("attach")()}))),o.a.createElement(i.TextField,{theme:r.name,ref:this.textfield,className:g("textarea")(),isMobile:u.isMobileDevice(),errorStyle:"all",disabled:this.props.isDisabled,placeholder:a.inputPlaceholder,value:this.props.messageText,onChange:this.handleOnChange,onSend:this.onSend})))}}])&&b(t.prototype,r),a&&b(t,a),c}(a.Component);t.default=Object(s.connect)((function(e){return{messageText:e.textarea.value,isDisabled:e.textarea.isDisabled,suggestions:e.Chat.suggestions,suggestionsIsShow:e.Chat.suggestionsIsShow,dictionary:e.config.Chat.dictionary,theme:e.config.theme,replyMessage:e.Chat.replyMessage,chatInContent:e.config.chatInContent,userToken:e.user.token}}))(y)},B8Px:function(e,t,r){var a=r("HseB");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},Cxgx:function(e,t,r){var a=r("mBuB");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},DQ34:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var a=r("q1tI"),o=r.n(a),n=r("17x9"),c=r.n(n),s=r("nW7h"),i=r.n(s),l=r("iDLh"),p=r("Ms6E");r("Cxgx");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=i()("status"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,r,a,n=d(c);function c(){return f(this,c),n.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e,t=this.props,r=t.time,a=t.owner,n=t.status,c=t.isDarkTheme,s=r?p.getMessageTimeString(r):null,i=n,u=c?"#7DBE9E":"#b7bec6";if("client"===a)switch(i){case"SENT":case"RECEIVED":e=o.a.createElement(l.Icon,{sign:"statusSend",color:u,size:14});break;case"READ":e=o.a.createElement(l.Icon,{sign:"statusOk",color:u,size:14});break;case"":default:e=o.a.createElement(l.Icon,{sign:"statusWait",color:u,size:14}),i="WAIT"}else e=null,i="NO";return o.a.createElement("div",{className:g.mix(this.props.className)()},o.a.createElement("div",{className:g("sub-wrapper",{type:a})()},o.a.createElement("div",{className:g("time")()},s),o.a.createElement("div",{className:g("status",{type:i})()},e)))}}])&&b(t.prototype,r),a&&b(t,a),c}(a.Component);y.propTypes={className:c.a.string,time:c.a.any,owner:c.a.string,status:c.a.string,isDarkTheme:c.a.bool},y.defaultProps={className:"",time:null,owner:"",status:"",isDarkTheme:!1}},Hsdf:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9IiM5MDkwOTAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEyIDExLjQxNGwtMy4yOTMgMy4yOTNjLS4zOS4zOS0xLjAyNC4zOS0xLjQxNCAwLS4zOS0uMzktLjM5LTEuMDI0IDAtMS40MTRsNC00Yy4zOS0uMzkgMS4wMjQtLjM5IDEuNDE0IDBsNCA0Yy4zOS4zOS4zOSAxLjAyNCAwIDEuNDE0LS4zOS4zOS0xLjAyNC4zOS0xLjQxNCAwTDEyIDExLjQxNHoiLz4KPC9zdmc+Cg=="},HseB:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-suggestions{display:flex;flex-wrap:wrap;overflow:hidden;height:auto;flex-grow:0;flex-shrink:0;padding:0 0 8px;width:100%;box-sizing:content-box;transition:opacity .35s;background-color:#f0f3f6;justify-content:flex-end}.sber-care-chat-suggestions__item{font-family:var(--font-family);margin:6px 3px 0;padding:11px 16px;font-size:14px;line-height:20px;font-weight:400;color:#000014;border-radius:16px 16px 4px 16px;border:1px solid #d0dbe1;cursor:pointer;background-color:#f0f3f6;word-break:break-word;outline:none;text-align:left}.sber-care-chat-suggestions__item:hover{background-color:#e3ebee;border:1px solid #e3ebee}.sber-care-chat-mode__full .sber-care-chat-suggestions{background-color:#fff}.sber-care-chat-mode__full .sber-care-chat-suggestions__item{background-color:#fff;font-size:17px;line-height:26px;padding:14px 20px;margin:13px 10px 0}.sber-care-chat-mode__full .sber-care-chat-suggestions__item:hover{background-color:#e3ebee;border:1px solid #e3ebee}.sber-care-chat-theme__dark .sber-care-chat-suggestions{background-color:#191b18}.sber-care-chat-theme__dark .sber-care-chat-suggestions__item{color:#fff;border:1px solid #737373;background-color:#191b18}.sber-care-chat-theme__dark .sber-care-chat-suggestions__item:hover{background-color:#323232;border-color:#323232}.sber-care-chat-theme__spasibo .sber-care-chat-suggestions{background-color:transparent}.sber-care-chat-theme__spasibo .sber-care-chat-suggestions__item{color:#262626;border:1px solid #d6d6d6;background-color:transparent}.sber-care-chat-theme__spasibo .sber-care-chat-suggestions__item:hover{color:#262626;background-color:#dfdfe3;border:1px solid #dfdfe3}",""])},Ib4s:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return x}));var a=r("q1tI"),o=r.n(a),n=r("17x9"),c=r.n(n),s=r("nW7h"),i=r.n(s),l=r("xk4V"),p=r.n(l),u=r("oej3");r("2LPb");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=i()("bubble"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,r,a,n=m(c);function c(){var e;b(this,c);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).handleClick=function(t){"js_showCSI"===t.target.id&&e.props.config.CSI&&e.props.config.CSI_points&&e.props.showCSI()},e}return t=c,(r=[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props.message.id&&this.props.message.id!==e.message.id,a=this.props.message.style!==e.message.style,o=this.props.isSearchResult!==e.isSearchResult,n=this.props.typingIsShow!==e.typingIsShow,c=this.props.isLastMessage!==e.isLastMessage;return r||a||o||n||c}},{key:"render",value:function(){var e=this.props.message,t=e.id+p()(),r="calc(".concat(this.props.width," - 100px)"),a="bottom"!==e.style&&"middle"!==e.style,n="top"!==e.style&&"middle"!==e.style;return o.a.createElement("div",{className:y({type:e.owner},{style:e.style}).mix(this.props.className)(),key:t},o.a.createElement("div",{className:y("item")()},o.a.createElement("div",{className:"chat-container_item_line"},o.a.createElement("div",{className:y("wrapper")()},e.name&&a&&o.a.createElement("div",{className:y("name-wrapper")()},o.a.createElement("div",{className:y("name")()},e.name)),e.name&&n&&o.a.createElement("div",{className:y("icon")()},o.a.createElement(u.default,{item:e,theme:this.props.theme,chatInContent:this.props.config.chatInContent})),o.a.createElement("div",{className:y("text-wrapper")(),onClick:this.handleClick,style:{maxWidth:r}},this.props.children,o.a.createElement("div",{className:y("sub-wrapper-zero")()}))))))}}])&&h(t.prototype,r),a&&h(t,a),c}(a.Component);x.propTypes={className:c.a.string,message:c.a.object,isDarkTheme:c.a.bool,isLastMessage:c.a.bool,config:c.a.object,isSearchResult:c.a.bool,typingIsShow:c.a.bool},x.defaultProps={className:"",message:{},isDarkTheme:!1,isLastMessage:!0,config:{},isSearchResult:!1,typingIsShow:!1}},JhOW:function(e,t,r){"use strict";r.r(t),r.d(t,"Search",(function(){return x}));var a=r("q1tI"),o=r.n(a),n=r("nW7h"),c=r.n(n),s=r("/MKj"),i=r("iDLh"),l=r("Ms6E"),p=r("uW9o"),u=r("dT2Z");r("o3B0");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=c()("search"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,r,a,n=m(c);function c(){var e;b(this,c);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={value:"",count:0},e.getResultText=function(e){if(e>0){p.sendYaMetrika({"Клик по ярлыку":{"Меню настроек":{"Поиск":"Найдено несколько вариантов"}}});var t=l.stringMorph125(e,["Найден","Найдено","Найдено"]),r=l.stringMorph125(e,["вариант","варианта","вариантов"]);return"".concat(t," ").concat(e," ").concat(r)}return p.sendYaMetrika({"Клик по ярлыку":{"Меню настроек":{"Поиск":"Ничего не найдено"}}}),"Ничего не найдено"},e.findTextInMessages=function(t){var r=e.props.messages,a={},o=0;if(r&&r.length>0&&t.trim().length>=e.props.config.minLength){var n=new RegExp(t,"gi"),c=l.uniqBy(r,"id").filter((function(e){return e.text.match(n)})).map((function(e){for(var t=e.text.match(/>(.*?)</g),r=[],c=e.text,s=0;s<t.length;s++)r[s]=t[s].replace(n,(function(e){return o+=1,'<span class="sber-care-chat__message-select">'.concat(e,"</span>")})),c=c.replace(t[s],r[s]);return a[e.id]={id:e.id,text:c},e.id}));if(e.props.dispatch(u.setSearchResult(a,c)),e.setState({count:o}),1===o){var s=document.getElementById(c[0]);s&&s.scrollIntoView()}}else e.props.dispatch(u.setSearchResult([],[]))},e.handleOnChange=function(t){e.findTextInMessages(t),e.setState({value:t})},e.handleOnClick=function(){p.sendYaMetrika({"Клик по ярлыку":{"Меню настроек":{"Поиск":"Закрыть поиск"}}}),e.props.dispatch(u.setSearchResult([],[])),e.props.dispatch(u.hideSearch())},e}return t=c,(r=[{key:"render",value:function(){var e=this.props.theme&&"dark"===this.props.theme.name,t=l.isMobileDevice()?"#ffffff":"#ced1d5",r=l.isMobileDevice()?"#ffffff":"#878b90";return o.a.createElement("div",{className:y.mix(this.props.className)()},o.a.createElement("div",{className:y("form")()},o.a.createElement(i.Textarea,{rows:1,className:y("textarea")(),value:this.state.value,autoComplete:"nope",maxLength:50,placeholder:"Начните вводить",onChange:this.handleOnChange,borderColor:e?"#2e2e2e":t,borderColorFocus:e?"#2e2e2e":r}),o.a.createElement("div",{className:y("icon")(),onClick:this.handleOnClick},o.a.createElement(i.Icon,{sign:"close",color:"#b7bec6",size:10}))),this.state.value.length>=this.props.config.minLength&&o.a.createElement("div",{className:y("result")()},o.a.createElement("div",{className:y("result-text")()},this.getResultText(this.state.count)),this.state.count>1&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:y("result-prev")(),onClick:this.props.handlePrevClick}),o.a.createElement("div",{className:y("result-next")(),onClick:this.props.handleNextClick}))))}}])&&h(t.prototype,r),a&&h(t,a),c}(a.Component);t.default=Object(s.connect)((function(e,t){return{messages:e[t.conversationName].messages,result:e.search.result,config:e.config.search,theme:e.config.theme}}))(x)},Jl2q:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var a=r("q1tI"),o=r.n(a),n=r("17x9"),c=r.n(n),s=r("nW7h"),i=r.n(s),l=r("iDLh");r("iJRW");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=i()("file-info"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,r,a,n=h(c);function c(){return u(this,c),n.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e,t=this.props,r=t.fileAttached,a=t.fileError,n=t.fileIsLoading,c=n||!a||"sendFail"===a,s=!(!n&&!a);switch(a){case"maxSize":e="Большой размер файла";break;case"targetType":e="Формат не подходит";break;case"sendFail":e="Ошибка при отправке";break;case"":e="Готов к отправке"}var i=this.props.fileError?"docIconGrey":"docIconWhite";return o.a.createElement("div",{className:_("block",{attachmentInfoBlockCentral:c})()},o.a.createElement("div",{className:_("icon",{fileIconError:s})()},n?o.a.createElement(l.Icon,{sign:"loader",color:"#D0DBE1",size:15,className:_("loader")()}):o.a.createElement(l.Icon,{sign:i,size:15,className:_("doc-icon")()})),o.a.createElement("div",{className:_("info")()},o.a.createElement("div",{className:_("name")()},r.name),o.a.createElement("div",{className:_("status")()},n?o.a.createElement("span",{className:_("status-loading")()},"Отправляется..."):o.a.createElement("span",{className:_("file-status",{fileError:a?"Error":"Success"})()},e))))}}])&&f(t.prototype,r),a&&f(t,a),c}(a.Component);g.propTypes={className:c.a.string,fileAttached:c.a.object,fileError:c.a.string,fileIsLoading:c.a.bool},g.defaultProps={className:"",fileAttached:null,fileError:"",fileIsLoading:!1}},MElk:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-upload__drop-form{height:100%;width:100%;min-width:auto}.sber-care-chat-upload__drop-form_dropFormError{flex:1 0 auto;min-width:100%;width:100%;height:auto}.sber-care-chat-upload__input{display:none}.sber-care-chat-upload__drop-text{color:#000;opacity:.9}.sber-care-chat-upload__header{color:#0b8940;font-weight:600}.sber-care-chat-upload__label{padding:20px}.sber-care-chat-upload__label,.sber-care-chat-upload__label_isMobile{height:100%;width:100%;display:flex;justify-content:space-between;align-items:center;margin:0;cursor:pointer}.sber-care-chat-upload__label_isMobile{padding:25px 0 25px 8px}.sber-care-chat-upload__icon *{display:block}",""])},Ok79:function(e,t,r){var a=r("nMLc");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},PL0i:function(e,t,r){"use strict";r.r(t),r.d(t,"AttachmentMobile",(function(){return _}));var a=r("q1tI"),o=r.n(a),n=r("/MKj"),c=r("nW7h"),s=r.n(c),i=r("dT2Z"),l=r("z9vR"),p=r("7p0f");r("Ok79");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}s()("attachment-mobile");var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,r,a,n=h(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=n.call(this,e)).handleFileUpload=function(e){var r=e.target.files||e.dataTransfer.files,a=t.props.conversationName;if(r[0]){var o,n=r[0];t.props.fileError&&t.props.dispatch(i.setFileError("",a)),n.size>t.props.fileUploadMax&&t.props.dispatch(i.setFileError("maxSize",a)),t.props.fileUploadFormats.split(",").forEach((function(e){n.name.toLowerCase().match(".".concat(e.trim(),"$"))&&(o=!0)})),o||t.props.dispatch(i.setFileError("targetType",a)),t.props.dispatch(i.setFileAttached(n,a))}},t.handleDrop=function(e){t.preventDefaults(e),t.props.fileAttached&&t.props.dispatch(i.setFileAttached(null,t.props.conversationName)),t.handleFileUpload(e)},t.preventDefaults=function(e){e.preventDefault()},t.sendFile=function(){t.props.dispatch(i.sendFile(t.props.fileAttached,t.props.sendMessage,t.props.conversationName))},t.closeAttachment=function(){var e=t.props.conversationName;t.props.dispatch(i.closeAdditionalForm()),t.props.dispatch(i.setFileAttached(null,e)),t.props.dispatch(i.setFileError("",e))},t.byteMultiplier=1024e3,t.maxFileSize=t.props.fileUploadMax/t.byteMultiplier,t}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.fileAttached,r=e.fileError;return o.a.createElement("div",null,t||r?o.a.createElement(l.default,{conversationName:this.props.conversationName,isMobile:!0}):o.a.createElement(p.default,{fileAttached:this.props.fileAttached,fileError:this.props.fileError,fileUploadFormats:this.props.fileUploadFormats,handleFileUpload:this.handleFileUpload,preventDefaults:this.preventDefaults,handleDrop:this.handleDrop,isMobile:!0}))}}])&&f(t.prototype,r),a&&f(t,a),c}(a.Component);t.default=Object(n.connect)((function(e,t){return{fileAttached:e[t.conversationName].fileAttached,fileIsLoading:e[t.conversationName].fileIsLoading,fileError:e[t.conversationName].fileError,fileUploadFormats:e.config[t.conversationName].fileUploadFormats,fileUploadMax:e.config[t.conversationName].fileUploadMax}}))(_)},Qb7R:function(e,t,r){"use strict";r.r(t),r.d(t,"MessageContainer",(function(){return k}));var a=r("q1tI"),o=r.n(a),n=r("nW7h"),c=r.n(n),s=r("/MKj"),i=r("wMS7"),l=r.n(i),p=r("2um2"),u=r("6yFU"),f=r("Ib4s"),b=r("DQ34"),h=r("dT2Z"),d=r("Ms6E"),m=(r("tpxD"),r("iDLh"));function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=c()("messages"),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,r,a,n=x(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=n.call(this,e)).createMessageItem=function(e){var r=e,a=t.props,n=a.search,c=a.messages,s=a.config[t.props.conversationName],i=c[c.length-1].id===e.id,p=!!(n.sequence.length>0&&n.result[e.id]),h=p?n.result[e.id].text:e.text,d="top"!==e.style&&"middle"!==e.style;return e.animation&&t.state.animationMessages.length>0&&t.state.animationMessages.forEach((function(t){e.id===t.id&&(r.json=t.json)})),!e.logo_url&&s.iconImgUrl&&(r.logo_url=s.iconImgUrl),o.a.createElement(o.a.Fragment,null,o.a.createElement(f.default,{key:r.id,className:E("bubble")(),message:r,isDarkTheme:t.props.isDarkTheme,theme:t.props.theme,isLastMessage:i,config:t.props.config,isSearchResult:p},e.animation?o.a.createElement(u.default,{className:E("text")(),messageId:r.id,text:h,animation:r.animation,json:r.json,isLastMessage:i,onLoad:t.onLoadLottie}):e.content&&e.content.attachments?e.content.attachments.map((function(e){return o.a.createElement("div",{className:E("file")(),onClick:function(){return t.onLoadFile(e)}},o.a.createElement("div",{className:E("file-icon")()},o.a.createElement(m.Icon,{sign:"docIconWhite",size:15,className:E("doc-icon")()})),o.a.createElement("div",{className:E("file-info")()},o.a.createElement("div",{className:E("file-name")()},e.name),o.a.createElement("div",{className:E("file-type")()},e.content_type)))})):o.a.createElement("div",{id:r.id,className:E("text")(),dangerouslySetInnerHTML:{__html:l.a.sanitize(h,{ADD_ATTR:["target"]})}})),d&&"system"!==r.owner&&o.a.createElement(b.default,{className:E("status")(),time:r.time,owner:r.owner,status:r.status,isDarkTheme:t.props.isDarkTheme}))},t.toLastMsg=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=t.messageContainer.current;r&&(e?r.scrollBy({top:r.scrollHeight,behavior:"smooth"}):r.scrollTop=r.scrollHeight)},t.onContainerScroll=function(){if(null!==t.props.historyNext){var e=t.messageContainer.current;!e.scrollTop&&e.scrollHeight>e.offsetHeight&&(t.oldScrollHeight=e.scrollHeight,t.props.dispatch(h.getHistory()))}},t.onLoadLottie=function(e,r){t.toLastMsg(),t.state.animationMessages.find((function(t){return e===t.id}))||t.setState({animationMessages:t.state.animationMessages.concat({id:e,json:r})})},t.onLoadFile=function(e){var r=t.props.config[t.props.conversationName],a="".concat(r.getDocumentUrl,"?uuid=").concat(e.uuid);d.getFile(a,e.access_obj_key,t.props.user.token).then((function(t){var r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=e.name,r.click(),URL.revokeObjectURL(r.href)})).catch((function(){}))},t.messageContainer=o.a.createRef(),t.oldScrollHeight=null,t.state={animationMessages:[]},t}return t=c,(r=[{key:"componentDidMount",value:function(){this.toLastMsg(!1)}},{key:"componentDidUpdate",value:function(e){if(this.props.messages.length!==e.messages.length&&e.historyNext!==this.props.historyNext){var t=this.messageContainer.current;t.scrollTop=t.scrollHeight-this.oldScrollHeight}this.props.messages.length!==e.messages.length&&e.historyNext===this.props.historyNext&&this.toLastMsg(),this.props.suggestionsIsShow!==e.suggestionsIsShow&&this.toLastMsg()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:E.mix(this.props.className)(),onScroll:this.onContainerScroll,ref:this.messageContainer},o.a.createElement("div",{className:E("messages-block")()},this.props.messages.length>0?d.concatMessages(d.uniqBy(this.props.messages,"id").slice(0)).map((function(t){return e.createMessageItem(t)})):null),o.a.createElement("div",{className:E("suggestions-block")()},this.props.suggestionsIsShow&&o.a.createElement(p.default,{suggestions:this.props.suggestions,conversationName:this.props.conversationName,suggestionsIsHidden:this.props.suggestionsIsHidden})))}}])&&g(t.prototype,r),a&&g(t,a),c}(a.Component);t.default=Object(s.connect)((function(e,t){return{messages:e[t.conversationName].messages,historyNext:e[t.conversationName].historyNext,suggestions:e[t.conversationName].suggestions,config:e.config,suggestionsIsShow:e[t.conversationName].suggestionsIsShow,suggestionsIsHidden:e[t.conversationName].suggestionsIsHidden,user:e.user}}))(k)},"R/QR":function(e,t,r){var a=r("wMUU");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},TCne:function(e,t,r){e.exports=r.p+"images/bd4880421b456e456b59ff384ef68e9a.png"},Vn0t:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9IiM5MDkwOTAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEyIDEyLjU4NmwzLjI5My0zLjI5M2MuMzktLjM5IDEuMDI0LS4zOSAxLjQxNCAwIC4zOS4zOS4zOSAxLjAyNCAwIDEuNDE0bC00IDRjLS4zOS4zOS0xLjAyNC4zOS0xLjQxNCAwbC00LTRjLS4zOS0uMzktLjM5LTEuMDI0IDAtMS40MTQuMzktLjM5IDEuMDI0LS4zOSAxLjQxNCAwTDEyIDEyLjU4NnoiLz4KPC9zdmc+Cg=="},YoMI:function(e,t,r){"use strict";r.r(t),r.d(t,"Error",(function(){return v}));var a=r("q1tI"),o=r.n(a),n=r("17x9"),c=r.n(n),s=r("nW7h"),i=r.n(s),l=r("/MKj"),p=r("iDLh"),u=r("dT2Z"),f=(r("R/QR"),r("uW9o"));function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=i()("error"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,r,a,n=_(c);function c(){var e;h(this,c);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).createConnectError=function(e){var t=e.title,r=e.subTitle,a=e.phones,n=a&&a.length>0;return o.a.createElement("div",{className:x("connect")()},o.a.createElement("div",{className:x("block")()},o.a.createElement("div",{className:x("center-align")()},o.a.createElement("div",{className:x("error-image")()}),o.a.createElement("div",{className:x("title")()},t),o.a.createElement("div",{className:x("text")()},r))),n&&o.a.createElement("div",{className:x("block-bottom")()},o.a.createElement("div",{className:x("phones")()},a.map((function(e){return o.a.createElement("div",{className:x("phone")()},o.a.createElement("div",{className:x("title")()},e.number),o.a.createElement("div",{className:x("text")()},e.text))})))))},e.createReconnectError=function(t){var r=t.title,a=t.subTitle,n=t.buttonText,c=e.props.theme?e.props.theme.name:"default";return o.a.createElement("div",{className:x("reconnect")()},o.a.createElement("div",{className:x("block")()},o.a.createElement("div",{className:x("center-align")()},o.a.createElement("div",{className:x("error-image")()}),o.a.createElement("p",{className:x("title")()},r),o.a.createElement("p",{className:x("text")()},a))),o.a.createElement("div",{className:x("block-bottom")()},o.a.createElement("div",{className:x("button")()},o.a.createElement(p.Button,{onClick:e.handleOnReconnectClick,theme:c,style:"new"},n))))},e.createErrorClosed=function(t){var r=t.title,a=t.subTitle,n=t.phones,c=t.buttonText,s=n&&n.length>0,i=e.props.theme?e.props.theme.name:"default";return o.a.createElement("div",{className:x("connect")()},o.a.createElement("div",{className:x("block")()},o.a.createElement("div",{className:x("center-align")()},o.a.createElement("div",{className:x("error-image")()}),o.a.createElement("div",{className:x("title")()},r),o.a.createElement("div",{className:x("text")()},a))),o.a.createElement("div",{className:x("block-bottom")()},s&&o.a.createElement("div",{className:x("phones")()},n.map((function(e){return o.a.createElement("div",{className:x("phone")()},o.a.createElement("div",{className:x("title")()},e.number),o.a.createElement("div",{className:x("text")()},e.text))}))),o.a.createElement("div",{className:x("button")()},o.a.createElement(p.Button,{onClick:e.handleOnReconnectClick,theme:i,style:"new"},c))))},e.createTechBreak=function(e){var t=e.title,r=e.subTitle;return o.a.createElement("div",{className:x("tech-break")()},o.a.createElement("div",{className:x("block")()},o.a.createElement("div",{className:x("center-align")()},o.a.createElement("div",{className:x("error-image")()}),o.a.createElement("p",{className:x("title")()},t),o.a.createElement("p",{className:x("text")()},r))))},e.handleOnReconnectClick=function(){f.sendYaMetrika({"Клик по ярлыку":{"Реконнект":"Кнопка Начать новый чат"}}),e.props.dispatch(u.reconnect())},e}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.dictionary,r=e.theme,a=e.type;return r&&r.name,o.a.createElement("div",{className:x.mix(this.props.className)()},o.a.createElement("div",{className:x(this.props.area)()},"connect"===a&&this.createConnectError(t.connectError),"reconnect"===a&&this.createReconnectError(t.reconnectError),"error_closed"===a&&this.createErrorClosed(t.errorClosed),"tech_break"===a&&this.createTechBreak(t.techBreak)))}}])&&d(t.prototype,r),a&&d(t,a),c}(a.Component);v.propTypes={className:c.a.string,type:c.a.string,area:c.a.string,dictionary:c.a.object,theme:c.a.object},v.defaultProps={className:"",type:"",area:"full",dictionary:{connectError:{},reconnectError:{},errorClosed:{},techBreak:{}},theme:{name:""}};t.default=Object(l.connect)((function(e){return{dictionary:e.config.Chat.dictionary,theme:e.config.theme}}))(v)},YwjM:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-additional{width:100%;box-shadow:0 -5px 15px -5px rgba(0,0,0,.1);padding:0;position:relative}.sber-care-chat-additional__close{position:absolute;top:15px;right:15px;cursor:pointer}.sber-care-chat-additional .sber-care-chat-ui-questions__item{font-size:13px!important}.sber-care-chat-theme__dark .sber-care-chat-additional{background-color:#2c2c2c;box-shadow:none;color:#fff}",""])},a8CQ:function(e,t,r){var a=r("+0a+");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},dACu:function(e,t,r){e.exports=r.p+"images/fa26eb651d9c7f0aeca5a4329986f5e8.png"},haPW:function(e,t,r){var a=r("MElk");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},iJRW:function(e,t,r){var a=r("nMcR");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},jZQO:function(e,t,r){"use strict";r.r(t),r.d(t,"Loader",(function(){return y}));var a=r("q1tI"),o=r.n(a),n=r("17x9"),c=r.n(n),s=r("nW7h"),i=r.n(s),l=r("/MKj"),p=r("iDLh");r("kxzz");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=i()("loader"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,r,a,n=d(c);function c(){return f(this,c),n.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:g.mix(this.props.className)()},this.props.inPage?o.a.createElement("div",{className:g("inline-container")()},o.a.createElement(p.Icon,{sign:"loader",color:"#D0DBE1",size:15,className:g("icon")()})):o.a.createElement("div",{className:g("container")()},o.a.createElement("div",{className:g("picture")()}),o.a.createElement("p",{className:g("title")()},this.props.title),o.a.createElement("p",{className:g("text")()},this.props.subText),o.a.createElement(p.Icon,{sign:"loader",color:"#d0dbe1",size:23,className:g("icon")()})))}}])&&b(t.prototype,r),a&&b(t,a),c}(a.Component);y.propTypes={title:c.a.string,subText:c.a.string,inPage:c.a.bool},y.defaultProps={title:"Загрузка чата",subText:"Пожалуйста, подождите немного",inPage:!1};t.default=Object(l.connect)((function(e){return{config:e.config}}))(y)},"kx+b":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMy42MyAzLjYzYy0uMzkuMzktLjM5IDEuMDIgMCAxLjQxTDcuMjkgOC43IDcgOUg0Yy0uNTUgMC0xIC40NS0xIDF2NGMwIC41NS40NSAxIDEgMWgzbDMuMjkgMy4yOWMuNjMuNjMgMS43MS4xOCAxLjcxLS43MXYtNC4xN2w0LjE4IDQuMThjLS40OS4zNy0xLjAyLjY4LTEuNi45MS0uMzYuMTUtLjU4LjUzLS41OC45MiAwIC43Mi43MyAxLjE4IDEuMzkuOTEuOC0uMzMgMS41NS0uNzcgMi4yMi0xLjMxbDEuMzQgMS4zNGMuMzkuMzkgMS4wMi4zOSAxLjQxIDAgLjM5LS4zOS4zOS0xLjAyIDAtMS40MUw1LjA1IDMuNjNjLS4zOS0uMzktMS4wMi0uMzktMS40MiAwek0xOSAxMmMwIC44Mi0uMTUgMS42MS0uNDEgMi4zNGwxLjUzIDEuNTNjLjU2LTEuMTcuODgtMi40OC44OC0zLjg3IDAtMy44My0yLjQtNy4xMS01Ljc4LTguNC0uNTktLjIzLTEuMjIuMjMtMS4yMi44NnYuMTljMCAuMzguMjUuNzEuNjEuODVDMTcuMTggNi41NCAxOSA5LjA2IDE5IDEyem0tOC43MS02LjI5bC0uMTcuMTdMMTIgNy43NlY2LjQxYzAtLjg5LTEuMDgtMS4zMy0xLjcxLS43ek0xNi41IDEyYzAtMS43Ny0xLjAyLTMuMjktMi41LTQuMDN2MS43OWwyLjQ4IDIuNDhjLjAxLS4wOC4wMi0uMTYuMDItLjI0eiIvPjwvc3ZnPg=="},kxzz:function(e,t,r){var a=r("pIZO");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},lNuw:function(e,t,r){var a=r("YwjM");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},mBuB:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-status_type_operator .sber-care-chat-bubble__sub-wrapper{text-align:left}.sber-care-chat-status__sub-wrapper{text-align:right;width:auto;padding:0 0 9px 16px}.sber-care-chat-status__sub-wrapper.sber-care-chat-status__sub-wrapper_type_operator{text-align:left;width:auto;padding:0 4px 9px 40px}.sber-care-chat-status__sub-wrapper-zero{padding-bottom:12px}.sber-care-chat-status__time{font-size:12px;line-height:14px;color:#878b90;display:inline-block;margin-right:4px;vertical-align:text-bottom}.sber-care-chat-status__status{height:7px;vertical-align:middle;display:inline-block}.sber-care-chat-status__status .sber-care-chat-icon{height:7px}.sber-care-chat-status__status_type_WAIT,.sber-care-chat-status__status_type_WAIT .sber-care-chat-icon{height:14px;vertical-align:text-bottom;margin-top:-1px}.sber-care-chat-theme__dark .sber-care-chat-bubble{color:#fff}.sber-care-chat-theme__dark .sber-care-chat-bubble__time{color:hsla(0,0%,100%,.47)}.sber-care-chat-theme__dark .sber-care-chat-bubble_type_operator .sber-care-chat-bubble__text-wrapper{background-color:#2c2c2c;box-shadow:0 1px 4px rgba(0,0,0,.4);color:#fff}.sber-care-chat-theme__dark .sber-care-chat-bubble_type_system .sber-care-chat-bubble__text-wrapper{color:#878b90;border:1px solid #737373}.sber-care-chat-theme__dark .sber-care-chat-bubble_type_client .sber-care-chat-bubble__text-wrapper{background-color:#068746;color:#fff}.sber-care-chat-theme__dark .sber-care-chat-bubble_type_operator a{color:#fff}",""])},mjtB:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij4KICAgIDxwYXRoIGQ9Ik0zIDEwdjRjMCAuNTUuNDUgMSAxIDFoM2wzLjI5IDMuMjljLjYzLjYzIDEuNzEuMTggMS43MS0uNzFWNi40MWMwLS44OS0xLjA4LTEuMzQtMS43MS0uNzFMNyA5SDRjLS41NSAwLTEgLjQ1LTEgMXptMTMuNSAyYzAtMS43Ny0xLjAyLTMuMjktMi41LTQuMDN2OC4wNWMxLjQ4LS43MyAyLjUtMi4yNSAyLjUtNC4wMnpNMTQgNC40NXYuMmMwIC4zOC4yNS43MS42Ljg1QzE3LjE4IDYuNTMgMTkgOS4wNiAxOSAxMnMtMS44MiA1LjQ3LTQuNCA2LjVjLS4zNi4xNC0uNi40Ny0uNi44NXYuMmMwIC42My42MyAxLjA3IDEuMjEuODVDMTguNiAxOS4xMSAyMSAxNS44NCAyMSAxMnMtMi40LTcuMTEtNS43OS04LjRjLS41OC0uMjMtMS4yMS4yMi0xLjIxLjg1eiIvPgo8L3N2Zz4K"},nMLc:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-attachment{background-color:#fff;border-radius:0 0 8px 8px}.sber-care-chat-attachment_isMobile{position:absolute;bottom:0;width:100%;z-index:1}.sber-care-chat-attachment .sber-care-chat-ui-button__text{font-size:14px}.sber-care-chat-attachment p{margin:0}.sber-care-chat-attachment__content{padding:16px}.sber-care-chat-attachment__header{margin:4px 0 16px;color:#8c8c91}.sber-care-chat-attachment__drop-area{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;height:176px;width:100%;border:1px dashed #9e9ea5;border-radius:5px}.sber-care-chat-attachment__footer{display:flex;justify-content:space-between;padding:20px 16px;border-top:1px solid #eaeaf2;background-color:#fff}",""])},nMcR:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-file-info__block{display:flex;padding:24px 20px;margin:16px 16px 0;border-radius:5px;background-color:#f0f3f6}.sber-care-chat-file-info__info{width:100%;flex:0 1 auto;overflow:hidden}.sber-care-chat-file-info__block_attachmentInfoBlockCentral{margin:auto 16px}.sber-care-chat-file-info__icon{display:flex;justify-content:center;align-items:center;height:40px;flex:1 0 40px;margin-right:12px;background:#19bb4f;border-radius:5px}.sber-care-chat-file-info__icon .sber-care-chat-icon{line-height:0}.sber-care-chat-file-info__icon_fileIconError{background:#fff}.sber-care-chat-file-info__name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:20px}.sber-care-chat-file-info__file-status_fileError_Error{color:#f6650a;line-height:20px}.sber-care-chat-file-info__file-status_fileError_Success{color:#278433;line-height:20px}.sber-care-chat-file-info__file-status_fileError_Loading{color:#9b9b9b;line-height:20px}.sber-care-chat-theme__dark .sber-care-chat-additional{background-color:#2c2c2c;box-shadow:none;color:#fff}",""])},o3B0:function(e,t,r){var a=r("p1wo");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},p1wo:function(e,t,r){var a=r("sEG9");(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-search{width:100%;padding:16px;border-bottom:1px solid #eaeaf2}.sber-care-chat-search__form{display:flex;justify-content:space-between}.sber-care-chat-search__textarea{flex:1 1;border-radius:5px;border:1px solid #d0dbe1;font-weight:400}.sber-care-chat-search__textarea textarea{border-radius:5px;font-weight:400;font-size:14px;min-height:auto;height:auto;margin:0}.sber-care-chat-search__icon{align-self:center;padding:10px 0 10px 16px}.sber-care-chat-search__icon:hover{cursor:pointer}.sber-care-chat-search__result{color:#878b90;font-size:14px;padding-top:10px;display:flex}.sber-care-chat-search__result div{height:20px;line-height:20px}.sber-care-chat-search__result-text{flex:1 1}.sber-care-chat-search__result-next,.sber-care-chat-search__result-prev{padding:3px 5px;cursor:pointer;font-size:14px;width:24px;height:24px}.sber-care-chat-search__result-prev{background:#fff url("+a(r("Hsdf"))+") 0 0 no-repeat}.sber-care-chat-search__result-next{background:#fff url("+a(r("Vn0t"))+") 0 0 no-repeat;padding-right:39px}.sber-care-chat-theme__dark .sber-care-chat-search{border-bottom:1px solid #2e2e2e}.sber-care-chat-theme__dark .sber-care-chat-search__textarea textarea{border:1px solid #383838;background-color:#323232;color:#fff}.sber-care-chat-theme__dark .sber-care-chat-search__result{color:#878b90;font-size:14px;padding-top:10px;display:flex}.sber-care-chat-theme__dark .sber-care-chat-search__result div{height:20px;line-height:20px}.sber-care-chat-theme__dark .sber-care-chat-search__result-next,.sber-care-chat-theme__dark .sber-care-chat-search__result-prev{background-color:#191b18}",""])},pIZO:function(e,t,r){var a=r("sEG9");(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-loader{width:100%;flex:1 1;background-color:#f0f3f6;display:flex;align-items:center}.sber-care-chat-loader__picture{width:100%;height:350px;background:transparent url("+a(r("wUIf"))+") 50% no-repeat;background-size:contain;margin:0 auto}.sber-care-chat-loader__container{text-align:center;width:100%;color:#000014}.sber-care-chat-loader__container .sber-care-chat-loader__title{margin-bottom:5px;font-size:21px;line-height:32px;margin-top:20px}.sber-care-chat-loader__container .sber-care-chat-loader__text{margin-bottom:30px;font-size:14px;line-height:20px}.sber-care-chat-theme__dark .sber-care-chat-loader{background-color:#191b18}.sber-care-chat-theme__dark .sber-care-chat-loader__container{color:#fff}.sber-care-chat-theme__spasibo .sber-care-chat-loader{background-color:#f2f2f6}.sber-care-chat-theme__spasibo .sber-care-chat-loader__picture{width:100%;height:400px;background:transparent url("+a(r("TCne"))+") 50% no-repeat;background-size:contain;margin:0 auto}.sber-care-chat-theme__spasibo .sber-care-chat-loader__container{color:#000}.sber-care-chat-theme__spasibo .sber-care-chat-loader__title{font-size:20px;line-height:24px;margin-top:20px}.sber-care-chat-theme__spasibo .sber-care-chat-loader__text{margin-bottom:20px;font-size:16px;line-height:24px}",""])},q904:function(e,t,r){var a=r("sEG9");(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-messages{width:100%;display:flex;flex:1 0;padding:20px 8px 0;overflow-x:hidden;background-color:#f0f3f6;flex-direction:column;justify-content:space-between}.sber-care-chat-messages__video-item{width:100%;display:none}.sber-care-chat-messages__video-item_visible{display:block}.sber-care-chat-messages__video-block{width:100%;border-bottom:1px solid #d0dbe1;line-height:0;position:relative;display:flex;justify-content:space-between;align-items:flex-end;flex-direction:column-reverse}.sber-care-chat-messages__video{width:100%;height:auto;flex:1 1}.sber-care-chat-messages__bottom-block{width:100%}.sber-care-chat-messages__subtitle{padding:8px 0;line-height:14px;font-size:12px;color:#000014;height:50px;text-overflow:ellipsis}.sber-care-chat-messages__repeat,.sber-care-chat-messages__skip{font-size:14px;color:#000014;padding:0 12px;width:112px;right:0;bottom:10px;cursor:pointer;border:1px solid #d0dbe1;border-radius:12px;line-height:28px;margin:0 0 10px 10px;display:none;text-align:center}.sber-care-chat-messages__repeat_show,.sber-care-chat-messages__skip_show{display:block}.sber-care-chat-messages__repeat:hover,.sber-care-chat-messages__skip:hover{background-color:#e3ebee;border:1px solid #e3ebee}.sber-care-chat-messages__mute{height:30px;width:40px;font-size:14px;margin-bottom:10px;border:1px solid #d0dbe1;border-radius:12px;background:url("+a(r("mjtB"))+") 50% no-repeat}.sber-care-chat-messages__mute_muted{background:url("+a(r("kx+b"))+") 50% no-repeat}.sber-care-chat-messages__mute:hover{cursor:pointer}.sber-care-chat-messages__mobile-buttons{margin-top:10px;display:flex}.sber-care-chat-messages__messages-block{display:flex;justify-content:flex-start;flex-direction:column;width:100%;flex-shrink:0;min-height:auto}.sber-care-chat-messages__message{display:flex;flex:1 1 100%;flex-direction:column;width:auto;align-self:flex-start;font-size:14px;line-height:20px;color:#212121;border-radius:4px;margin-bottom:16px;position:relative;word-break:break-word}.sber-care-chat-messages__item_withContent{margin-bottom:200px}.sber-care-chat-messages__widget{height:auto}.sber-care-chat-messages__text{padding:12px 16px 0}.sber-care-chat-messages__typing{padding:12px 16px 0;margin-left:auto;margin-right:auto}.sber-care-chat-messages__dot{display:inline-block;width:6px;height:6px;border-radius:50%;margin-right:3px;background:#878b90;animation:sber-care-chat-typingAnimation 1.3s linear infinite}.sber-care-chat-messages__dot:nth-child(2){animation-delay:-1.1s}.sber-care-chat-messages__dot:nth-child(3){animation-delay:-.9s}.sber-care-chat-messages__suggestions-block{transition:height .85s linear}.sber-care-chat-messages__file{display:flex;padding:12px 16px 0}.sber-care-chat-messages__file:hover{cursor:pointer}.sber-care-chat-messages__file-icon{display:flex;justify-content:center;align-items:center;height:40px;width:40px;flex:1 0 40px;margin-right:12px;background:#19bb4f;border-radius:5px}.sber-care-chat-messages__file-icon .sber-care-chat-ui-icon{line-height:0}.sber-care-chat-messages__file-info{width:100%;flex:0 1 auto;overflow:hidden;line-height:20px;font-size:14px}.sber-care-chat-messages__file-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#262626}.sber-care-chat-messages__file-type{color:#737373}.sber-care-chat__message-select{background-color:#fff4cc}.sber-care-chat-reply{border-left:2px solid #0b8940;padding-left:8px;line-height:20px;color:#878b90;font-size:14px;margin-bottom:8px}.sber-care-chat-ui-csi__link{text-decoration:underline;cursor:pointer}.sber-care-chat-mode__full .sber-care-chat-messages{background-color:#fff;padding-bottom:16px}.sber-care-chat-mode__full .sber-care-chat-messages__message{font-size:17px;line-height:26px}.sber-care-chat-mode__full .sber-care-chat-messages__bottom-block{width:100%}.sber-care-chat-mode__full .sber-care-chat-messages__subtitle{padding:8px 0;line-height:20px;font-size:14px;color:#000014;height:50px;text-overflow:ellipsis}.sber-care-chat-mode__full .sber-care-chat-messages__mobile-buttons{display:flex}.sber-care-chat-mode__full .sber-care-chat-messages__video-block{flex-direction:row}.sber-care-chat-mode__full .sber-care-chat-messages__mute{height:40px;width:50px;font-size:20px}.sber-care-chat-mode__full .sber-care-chat-messages__repeat,.sber-care-chat-mode__full .sber-care-chat-messages__skip{font-size:14px;color:#000014;padding:0 16px;width:112px;line-height:38px}.sber-care-chat-mode__full .sber-care-chat-messages__video{width:calc(100% - 180px);max-width:600px;height:auto;flex:1 1}.sber-care-chat-theme__dark .sber-care-chat-messages{background-color:#191b18}.sber-care-chat-theme__dark .sber-care-chat__message-select{background-color:#999}.sber-care-chat-theme__spasibo .sber-care-chat-messages{background-color:#f2f2f6}@keyframes sber-care-chat-typingAnimation{0%,60%,to{transform:none}30%{transform:translateY(-15px)}}",""])},tpxD:function(e,t,r){var a=r("q904");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},uqpq:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-bubble_withContent{margin-bottom:200px}.sber-care-chat-bubble_type_operator{align-self:flex-start}.sber-care-chat-bubble_type_operator .sber-care-chat-bubble__wrapper{padding-left:40px}.sber-care-chat-bubble_type_operator .sber-care-chat-bubble__text-wrapper{background-color:#fff;box-shadow:0 4px 8px rgba(210,219,224,.6);border-radius:16px 16px 16px 4px;color:#000014}.sber-care-chat-bubble_type_operator .sber-care-chat-bubble__sub-wrapper{text-align:left}.sber-care-chat-bubble_type_operator a{color:#262626;text-decoration:underline}.sber-care-chat-bubble_type_operator.sber-care-chat-bubble_style_bottom .sber-care-chat-bubble__text-wrapper,.sber-care-chat-bubble_type_operator.sber-care-chat-bubble_style_middle .sber-care-chat-bubble__text-wrapper{border-radius:4px 16px 16px 4px}.sber-care-chat-bubble_type_client{align-self:flex-end}.sber-care-chat-bubble_type_client .sber-care-chat-bubble__text-wrapper{background-color:#e3ebee;color:#000014;border-radius:16px 16px 4px 16px}.sber-care-chat-bubble_type_client a{color:#000014;text-decoration:underline}.sber-care-chat-bubble_type_client.sber-care-chat-bubble_style_bottom .sber-care-chat-bubble__text-wrapper,.sber-care-chat-bubble_type_client.sber-care-chat-bubble_style_middle .sber-care-chat-bubble__text-wrapper{border-radius:16px 4px 4px 16px}.sber-care-chat-bubble_type_error,.sber-care-chat-bubble_type_system{align-self:center;width:100%}.sber-care-chat-bubble_type_error .sber-care-chat-bubble__wrapper,.sber-care-chat-bubble_type_system .sber-care-chat-bubble__wrapper{text-align:center;min-width:auto}.sber-care-chat-bubble_type_error .sber-care-chat-bubble__text-wrapper,.sber-care-chat-bubble_type_system .sber-care-chat-bubble__text-wrapper{padding:5px 16px;color:#878b90;font-size:14px;line-height:20px;text-align:center;border:1px solid #ced1d5;border-radius:24px;margin:0 auto;display:inline-block;max-width:none}.sber-care-chat-bubble_type_error .sber-care-chat-messages__text,.sber-care-chat-bubble_type_system .sber-care-chat-messages__text{padding:0;font-size:14px}.sber-care-chat-bubble_type_error .sber-care-chat-bubble__sub-wrapper-zero,.sber-care-chat-bubble_type_error .sber-care-chat-bubble__text,.sber-care-chat-bubble_type_system .sber-care-chat-bubble__sub-wrapper-zero,.sber-care-chat-bubble_type_system .sber-care-chat-bubble__text{padding:0}.sber-care-chat-bubble_type_error_style_middle .sber-care-chat-bubble__item,.sber-care-chat-bubble_type_error_style_top .sber-care-chat-bubble__item,.sber-care-chat-bubble_type_system_style_middle .sber-care-chat-bubble__item,.sber-care-chat-bubble_type_system_style_top .sber-care-chat-bubble__item{margin-bottom:8px}.sber-care-chat-bubble_type_error .sber-care-chat-bubble__text-wrapper{color:#f6650a;border:1px solid #f6650a}.sber-care-chat-bubble_style_bottom.sber-care-chat-messages__text,.sber-care-chat-bubble_style_middle.sber-care-chat-messages__text{padding-top:3px}.sber-care-chat-bubble_style_middle .sber-care-chat-bubble__item,.sber-care-chat-bubble_style_top .sber-care-chat-bubble__item{margin-bottom:3px}.sber-care-chat-bubble_style_first_message .sber-care-chat-bubble____sub-wrapper{padding-bottom:0}.sber-care-chat-bubble__item{display:flex;flex:1 1 100%;flex-direction:column;width:auto;align-self:flex-start;font-size:14px;line-height:20px;color:#212121;border-radius:4px;margin-bottom:4px;position:relative;word-break:break-word}.sber-care-chat-bubble__name{color:#878b90;font-size:14px;line-height:24px;padding-left:10px}.sber-care-chat-bubble__icon{position:absolute;left:0;bottom:0;line-height:0}.sber-care-chat-bubble__text-wrapper{border-radius:10px;padding:0;font-size:14px;line-height:20px;position:relative;width:-webkit-fit-content;width:fit-content;max-width:232px}.sber-care-chat-bubble__text-wrapper p{font-size:14px;line-height:20px}.sber-care-chat-bubble__text-wrapper img{max-width:100%}.sber-care-chat-bubble__text{padding:12px 16px 0}.sber-care-chat-bubble__sub-wrapper{text-align:right;width:auto;padding:0 4px 9px 16px}.sber-care-chat-bubble__sub-wrapper.sber-care-chat-bubble__sub-wrapper_type_operator{text-align:left;width:auto;padding:0 4px 9px 40px}.sber-care-chat-bubble__sub-wrapper-zero{padding-bottom:12px}.sber-care-chat__message-select{background-color:#fff4cc}.sber-care-chat-mode__full .sber-care-chat-bubble_type_operator .sber-care-chat-bubble__text-wrapper{box-shadow:0 6px 16px rgba(210,219,224,.6)}.sber-care-chat-mode__full .sber-care-chat-bubble_type_operator .sber-care-chat-bubble__wrapper{padding-left:75px}.sber-care-chat-mode__full .sber-care-chat-bubble__name{font-size:17px;line-height:26px;padding-left:20px}.sber-care-chat-mode__full .sber-care-chat-bubble__text-wrapper{font-size:17px;line-height:26px;max-width:496px}.sber-care-chat-mode__full .sber-care-chat-bubble__text-wrapper p{font-size:17px;line-height:26px}.sber-care-chat-mode__full .sber-care-chat-bubble__text{padding:14px 20px 0}.sber-care-chat-theme__dark .sber-care-chat-bubble{color:#fff}.sber-care-chat-theme__dark .sber-care-chat-bubble__time{color:hsla(0,0%,100%,.47)}.sber-care-chat-theme__dark .sber-care-chat-bubble_type_operator .sber-care-chat-bubble__text-wrapper{background-color:#2c2c2c;box-shadow:0 1px 4px rgba(0,0,0,.4);color:#fff}.sber-care-chat-theme__dark .sber-care-chat-bubble_type_system .sber-care-chat-bubble__text-wrapper{color:#878b90;border:1px solid #737373}.sber-care-chat-theme__dark .sber-care-chat-bubble_type_client .sber-care-chat-bubble__text-wrapper{background-color:#068746;color:#fff}.sber-care-chat-theme__dark .sber-care-chat-bubble_type_operator a{color:#fff}.sber-care-chat-theme__spasibo .sber-care-chat-bubble{color:rgba(0,0,0,.04)}.sber-care-chat-theme__spasibo .sber-care-chat-bubble__time{color:909090}.sber-care-chat-theme__spasibo .sber-care-chat-bubble__item,.sber-care-chat-theme__spasibo .sber-care-chat-bubble__name{color:#737373}.sber-care-chat-theme__spasibo .sber-care-chat-bubble_type_operator .sber-care-chat-bubble__text-wrapper{background-color:#fff;box-shadow:none;color:#262626}.sber-care-chat-theme__spasibo .sber-care-chat-bubble_type_operator a{color:#262626}.sber-care-chat-theme__spasibo .sber-care-chat-bubble_type_system .sber-care-chat-bubble__text-wrapper{color:#737373;border:1px solid #d6d6d6}.sber-care-chat-theme__spasibo .sber-care-chat-bubble_type_client .sber-care-chat-bubble__text-wrapper{background-color:rgba(0,0,0,.04);color:#262626}",""])},wMUU:function(e,t,r){var a=r("sEG9");(e.exports=r("I1BE")(!1)).push([e.i,".sber-care-chat-error{width:100%;flex:1 1;text-align:center;color:#000014}.sber-care-chat-error__full{height:100%}.sber-care-chat-error__connect,.sber-care-chat-error__reconnect,.sber-care-chat-error__tech-break{display:flex;height:100%;flex-direction:column;align-self:center;font-size:14px;line-height:22px;letter-spacing:-.3px;background-color:rgba(0,0,0,.04)}.sber-care-chat-error__connect .sber-care-chat-error__block,.sber-care-chat-error__reconnect .sber-care-chat-error__block{flex:1 0 auto;padding:40px 20px;display:flex;align-items:flex-end}.sber-care-chat-error__tech-break .sber-care-chat-error__block{flex:1 0 auto;padding:40px 20px;display:flex;align-items:center}.sber-care-chat-error__connect .sber-care-chat-error__block .sber-care-chat-error__title,.sber-care-chat-error__reconnect .sber-care-chat-error__block .sber-care-chat-error__title,.sber-care-chat-error__tech-break .sber-care-chat-error__block .sber-care-chat-error__title{font-weight:700;font-size:18px;line-height:22px;margin-bottom:10px}.sber-care-chat-error__connect .sber-care-chat-error__block-bottom .sber-care-chat-error__title{font-weight:700;font-size:18px;line-height:22px;margin-bottom:6px}.sber-care-chat-error__connect .sber-care-chat-error__block-bottom .sber-care-chat-error__phone{margin-top:12px}.sber-care-chat-error__connect .sber-care-chat-error__block-bottom .sber-care-chat-error__phone:first-child{margin-top:0}.sber-care-chat-error__connect .sber-care-chat-error__block-bottom,.sber-care-chat-error__reconnect .sber-care-chat-error__block-bottom{flex:0 0 auto;padding:25px 0 40px;font-size:14px;background-color:#fff}.sber-care-chat-error__reconnect .sber-care-chat-error__block-bottom{background:none}.sber-care-chat-error__connect .sber-care-chat-error__error-image{width:100%;height:240px;background:transparent url("+a(r("4uwN"))+") 50% no-repeat;background-size:contain}.sber-care-chat-error__reconnect .sber-care-chat-error__error-image,.sber-care-chat-error__tech-break .sber-care-chat-error__error-image{width:100%;height:240px;background:transparent url("+a(r("dACu"))+") 50% no-repeat;background-size:contain}.sber-care-chat-error__connect .sber-care-chat-error__button{margin-top:12px}.sber-care-chat-error__content .sber-care-chat-error__connect,.sber-care-chat-error__content .sber-care-chat-error__reconnect,.sber-care-chat-error__content .sber-care-chat-error__tech-break{line-height:20px}.sber-care-chat-error__content .sber-care-chat-error__connect .sber-care-chat-error__block .sber-care-chat-error__title,.sber-care-chat-error__content .sber-care-chat-error__reconnect .sber-care-chat-error__block .sber-care-chat-error__title,.sber-care-chat-error__content .sber-care-chat-error__tech-break .sber-care-chat-error__block .sber-care-chat-error__title{font-size:16px;line-height:20px;margin-bottom:8px}.sber-care-chat-error__content .sber-care-chat-error__error-image{height:160px}.sber-care-chat-error__content .sber-care-chat-error__block{padding:10px 15px 30px}.sber-care-chat-error__content .sber-care-chat-error__block-bottom{padding:15px 0 30px;font-size:14px}.sber-care-chat-error__content .sber-care-chat-error__reconnect .sber-care-chat-error__block-bottom{padding:0 0 20px}.sber-care-chat-theme__dark .sber-care-chat-error__full{background-color:#191b18}.sber-care-chat-theme__dark .sber-care-chat-error__content{background-color:#2e2e2e}.sber-care-chat-theme__dark .sber-care-chat-error__full,.sber-care-chat-theme__dark .sber-care-chat-error__text,.sber-care-chat-theme__dark .sber-care-chat-error__title{color:#fff}.sber-care-chat-theme__dark .sber-care-chat-error__full .sber-care-chat-error__block{background-color:#2e2e2e}.sber-care-chat-theme__spasibo .sber-care-chat-error__button button{background-color:#02cc6a}.sber-care-chat-theme__spasibo .sber-care-chat-error__full{background-color:#f2f2f6}.sber-care-chat-theme__spasibo .sber-care-chat-error__connect .sber-care-chat-error__error-image{background:transparent url("+a(r("3NSj"))+") 50% no-repeat;background-size:contain}.sber-care-chat-theme__spasibo .sber-care-chat-error__reconnect .sber-care-chat-error__error-image{background:transparent url("+a(r("6qyB"))+") 50% no-repeat;background-size:contain}.sber-care-chat-theme__spasibo .sber-care-chat-error__full .sber-care-chat-error__title{font-size:20px;line-height:24px;padding-top:40px}.sber-care-chat-theme__spasibo .sber-care-chat-error__full .sber-care-chat-error__text{font-size:16px;line-height:24px}.sber-care-chat-theme__spasibo .sber-care-chat-error__block-bottom{background-color:#fff}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.sber-care-chat-error__content .sber-care-chat-error__center-align{display:block}.sber-care-chat-error__content .sber-care-chat-error__block-left{float:left}}",""])},wUIf:function(e,t,r){e.exports=r.p+"images/c4fd82bc84011a6883d8126990a43834.png"},ygyu:function(e,t,r){"use strict";r.r(t),r.d(t,"Chat",(function(){return S}));var a=r("q1tI"),o=r.n(a),n=r("nW7h"),c=r.n(n),s=r("/MKj"),i=r("F31B"),l=r("aN2z"),p=r("jZQO"),u=r("YoMI"),f=r("Qb7R"),b=r("zJyM"),h=r("8ABt"),d=r("JhOW"),m=(r("zcf+"),r("dT2Z")),_=r("Ms6E"),g=r("uW9o"),y=r("J/DB");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=M(e);if(t){var o=M(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=c()("form"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(c,e);var t,r,a,n=E(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=n.call(this,e)).arrowSearchClick=function(e){var r=t.props.search,a=_.getOffset(r[e],r.sequence),o=a.prev,n=a.selected,c=a.next,s=document.getElementById(r.sequence[n]);g.sendYaMetrika({"Клик по ярлыку":{"Меню настроек":{"Поиск":"Клик по ".concat(e)}}}),s&&(s.scrollIntoView(),t.props.dispatch(m.setNextResult(c)),t.props.dispatch(m.setPrevResult(o)))},t.showCSI=function(){t.props.suggestionsIsShow&&t.props.dispatch(m.hideSuggestions("Chat")),t.props.dispatch(m.showCSI())},t.toLastMessage=function(){t.messages.current},t.handleBackClick=function(){t.props.dispatch(m.changeActiveView("Conversations"))},t.messages=o.a.createRef(),t}return t=c,(r=[{key:"componentDidMount",value:function(){this.props.isConnected||this.props.isUnauthorized||(_.isResetPage()&&y.chatApi.removeSession(),this.props.dispatch(m.initChat())),_.isMobileDevice()&&_.setChatZoom()}},{key:"render",value:function(){var e=this,t=this.props.config,r=t.size,a=t.zIndex,n=t.theme,c=t.chatInContent,s=t.conversations,m=t.headerIsEnabled,g=t.search,y=t.startForm,x=t.webView,v=t.Chat,w=void 0===v?{}:v,E=t.develop,k=_.isMobileDevice(),M=r&&!k?{height:r.height,width:r.width}:{},S=a?{zIndex:a}:{},j=this.props.error&&this.props.error.type,C=n&&"dark"===n.name,I=n&&n.name?n.name:"default",O=!c&&!k,D=!(E&&E.hideConversationsForm)&&s&&s.length>1;return o.a.createElement("div",{className:N.mix(this.props.className)()},o.a.createElement("div",{className:N("main",{start:y})(),style:Object.assign(M,S)},m&&o.a.createElement(i.default,{title:w.dictionary.headerTitle,withArrow:D,arrowClick:this.handleBackClick,className:N("header")(),isMobile:k,isWebView:x,withSearch:g.enabled}),j?o.a.createElement(u.default,{type:this.props.error.type}):this.props.formOnLoad?o.a.createElement(p.default,{type:"global"}):o.a.createElement("div",{className:N("chat")()},this.props.search.isShow&&o.a.createElement(d.default,{conversationName:this.props.conversationName,handleNextClick:function(){return e.arrowSearchClick("next")},handlePrevClick:function(){return e.arrowSearchClick("prev")}}),o.a.createElement(f.default,{conversationName:this.props.conversationName,ref:this.messages,isDarkTheme:C,theme:I,messages:this.props.messages,search:this.props.search,width:r?r.width:"",showCSI:this.showCSI}),this.props.additionalFormIsShow?o.a.createElement(b.default,{conversationName:this.props.conversationName,type:this.props.additionalFormType}):o.a.createElement(h.default,{scrollMessage:this.toLastMessage,uploadFile:w.uploadFile}))),O&&o.a.createElement(l.default,{type:"close",className:N("close")()}))}}])&&v(t.prototype,r),a&&v(t,a),c}(a.Component);t.default=Object(s.connect)((function(e,t){return{formOnLoad:e[t.conversationName].formOnLoad,additionalFormIsShow:e.additionalForm.isOpen,additionalFormType:e.additionalForm.type,error:e[t.conversationName].error,messages:e[t.conversationName].messages,config:e.config,isConnected:e[t.conversationName].isConnect,isUnauthorized:e[t.conversationName].isUnauthorized,suggestionsIsShow:e[t.conversationName].suggestionsIsShow,csiFormIsShow:e[t.conversationName].csiFormIsShow,conversationId:e.dialog.id,search:e.search}}))(S)},z9vR:function(e,t,r){"use strict";r.r(t),r.d(t,"Attachment",(function(){return y}));var a=r("q1tI"),o=r.n(a),n=r("/MKj"),c=r("nW7h"),s=r.n(c),i=r("dT2Z"),l=r("Jl2q"),p=r("7p0f"),u=r("iDLh");r("Ok79");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=s()("attachment"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,r,a,n=d(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=n.call(this,e)).handleFileUpload=function(e){var r=e.target.files||e.dataTransfer.files,a=t.props.conversationName;if(r[0]){var o,n=r[0];t.props.fileError&&t.props.dispatch(i.setFileError("",a)),n.size>t.props.fileUploadMax&&t.props.dispatch(i.setFileError("maxSize",a)),t.props.fileUploadFormats.split(",").forEach((function(e){n.name.toLowerCase().match(".".concat(e.trim(),"$"))&&(o=!0)})),o||t.props.dispatch(i.setFileError("targetType",a)),t.props.dispatch(i.setFileAttached(n,a))}},t.handleDrop=function(e){t.preventDefaults(e),t.props.fileAttached&&t.props.dispatch(i.setFileAttached(null,t.props.conversationName)),t.handleFileUpload(e)},t.preventDefaults=function(e){e.preventDefault()},t.sendFile=function(){t.props.dispatch(i.sendFile(t.props.fileAttached,t.props.sendMessage,t.props.conversationName))},t.closeAttachment=function(){var e=t.props.conversationName;t.props.dispatch(i.closeAdditionalForm()),t.props.dispatch(i.setFileAttached(null,e)),t.props.dispatch(i.setFileError("",e))},t.byteMultiplier=1024e3,t.maxFileSize=t.props.fileUploadMax/t.byteMultiplier,t}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.fileAttached,r=e.fileError,a=e.fileIsLoading,n=e.isMobile;return o.a.createElement("div",{className:g({isMobile:n}).mix(this.props.className)()},o.a.createElement("div",{className:g("content")()},o.a.createElement("div",{className:g("header")()},o.a.createElement("p",null,"Размер файла до ".concat(this.maxFileSize," Мб")),o.a.createElement("p",null,"Форматы: ".concat(this.props.fileUploadFormats.replace(" ","").split(",").join(", ")))),o.a.createElement("div",{className:g("drop-area")(),onDragEnter:this.preventDefaults,onDragOver:this.preventDefaults,onDragLeave:this.preventDefaults,onDrop:this.handleDrop},t?o.a.createElement(l.default,{fileAttached:this.props.fileAttached,fileError:this.props.fileError,fileIsLoading:this.props.fileIsLoading}):null,!t||r&&"sendFail"!==r?o.a.createElement(p.default,{fileAttached:this.props.fileAttached,fileError:this.props.fileError,fileUploadFormats:this.props.fileUploadFormats,handleFileUpload:this.handleFileUpload,preventDefaults:this.preventDefaults,handleDrop:this.handleDrop}):null)),o.a.createElement("div",{className:g("footer")()},o.a.createElement(u.Button,{type:"a",className:g("attach-button")(),onClick:this.closeAttachment},"Отменить отправку файла"),!t||r||a?null:o.a.createElement(u.SendButton,{style:"new",onClick:this.sendFile})))}}])&&b(t.prototype,r),a&&b(t,a),c}(a.Component);t.default=Object(n.connect)((function(e,t){return{fileAttached:e[t.conversationName].fileAttached,fileIsLoading:e[t.conversationName].fileIsLoading,fileError:e[t.conversationName].fileError,fileUploadFormats:e.config[t.conversationName].fileUploadFormats,fileUploadMax:e.config[t.conversationName].fileUploadMax}}))(y)},zJyM:function(e,t,r){"use strict";r.r(t),r.d(t,"AdditionalForm",(function(){return w}));var a=r("q1tI"),o=r.n(a),n=r("17x9"),c=r.n(n),s=r("nW7h"),i=r.n(s),l=r("/MKj"),p=r("iDLh"),u=r("dT2Z"),f=r("YoMI"),b=r("z9vR"),h=r("uW9o");r("lNuw");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=i()("additional"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(c,e);var t,r,a,n=g(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=n.call(this,e)).handleOnClose=function(){t.props.dispatch(u.closeAdditionalForm())},t.onSendRating=function(e){var r=t.props.config;t.setState({valueCSI:e.value});var a="".concat(r.Rating.responseText," ").concat(e.value);t.props.dispatch(u.sendMessageText(a)),h.sendYaMetrika({"Клик по ярлыку":{CSI:{"Пришел запрос оценки":{"Открытие формы":{Rating:a}}}}}),e.questions.length>0&&t.sendQuestions(e.value,e.questions)},t.sendQuestions=function(e,r){var a=t.props.config,o=r.map((function(e){return e.text.toLowerCase()})).join(", ");if(o.length){var n="".concat(a.Questions.positiveResponseText," ").concat(o),c="".concat(a.Questions.negativeResponseText," ").concat(o),s=e>=a.Questions.positiveMin?n:c;t.props.dispatch(u.sendMessageText(s)),h.sendYaMetrika({"Клик по ярлыку":{CSI:{"Пришел запрос оценки":{"Открытие формы":{Questions:s}}}}})}},t.onSendComments=function(e){var r=t.props.config;if(e.comment.length){var a="".concat(r.Comments.responseText," ").concat(e.comment);t.props.dispatch(u.sendMessageText(a)),h.sendYaMetrika({"Клик по ярлыку":{CSI:{"Пришел запрос оценки":{"Открытие формы":{Comments:a}}}}})}},t.state={valueCSI:0},t}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.type,r=e.config,a=e.points;return o.a.createElement("div",{className:v.mix(this.props.className)()},"reconnect"===t&&o.a.createElement(f.default,{type:t,area:"content"}),"tech_break"===t&&o.a.createElement(f.default,{type:t,area:"content"}),"csi"===t&&o.a.createElement(p.CSI,{theme:this.props.theme.name,points:a,Rating:Object.assign(r.Rating,{onSend:this.onSendRating}),Comments:Object.assign(r.Comments,{onSend:this.onSendComments}),cancelButtonClick:this.handleOnClose}),"attachments"===t&&o.a.createElement(b.default,{conversationName:this.props.conversationName,isMobile:!1}))}}])&&m(t.prototype,r),a&&m(t,a),c}(a.Component);w.propTypes={className:c.a.string,type:c.a.string},w.defaultProps={className:"",type:""};t.default=Object(l.connect)((function(e){return{config:e.config.CSI_new,points:e.config.CSI_points,theme:e.config.theme}}))(w)}}]);